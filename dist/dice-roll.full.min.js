/*!
 * dice-roll - A basic A/B test library
 * v0.1.0
 * https://github.com/jgallen23/dice-roll
 * copyright Greg Allen 2013
 * MIT License
*/
var monster={set:function(a,b,c,d){var e=new Date,f="",g=typeof b,h="";if(d=d||"/",c&&(e.setTime(e.getTime()+1e3*60*60*24*c),f="; expires="+e.toUTCString()),"object"===g&&"undefined"!==g){if(!("JSON"in window))throw"Bummer, your browser doesn't support JSON parsing.";h=JSON.stringify({v:b})}else h=encodeURIComponent(b);document.cookie=a+"="+h+f+"; path="+d},get:function(a){for(var b=a+"=",c=document.cookie.split(";"),d="",e="",f={},g=0;g<c.length;g++){for(var h=c[g];" "==h.charAt(0);)h=h.substring(1,h.length);if(0===h.indexOf(b))return d=h.substring(b.length,h.length),e=d.substring(0,1),"{"==e&&(f=JSON.parse(d),"v"in f)?f.v:"undefined"==d?void 0:decodeURIComponent(d)}return null},remove:function(a){this.set(a,"",-1)},increment:function(a,b){var c=this.get(a)||0;this.set(a,parseInt(c,10)+1,b)},decrement:function(a,b){var c=this.get(a)||0;this.set(a,parseInt(c,10)-1,b)}},max=1e3,monster="undefined"!=typeof module?!1:"undefined"!=typeof ender?require("cookie-monster"):window.monster,DiceRoll=function(a,b){this.expires=b||7,this.key="diceroll-"+a,this.cookieValue=monster?monster.get(this.key):!1,this.tests=[]};DiceRoll.prototype.test=function(a,b){return this.tests.push({percentage:a,callback:b}),this},DiceRoll.prototype.otherwise=function(a){return this.elseCallback=a,this},DiceRoll.prototype.run=function(){for(var a,b,c,d=Math.floor(Math.random()*max+1),e=0,f=0,g=this.tests.length;g>f;f++)if(b=this.tests[f],this.cookieValue?f.toString()==this.cookieValue&&(c=!0,b.callback(b.percentage,f)):(a=b.percentage/100*max,d>=e&&e+a>=d?(monster&&monster.set(this.key,f.toString(),this.expires),b.callback(b.percentage,f),c=!0):c=!1,e+=a+1),c)return;this.elseCallback&&(monster&&monster.set(this.key,f.toString(),this.expires),this.elseCallback(!1,f))};var diceRoll=function(a,b){return new DiceRoll(a,b)};